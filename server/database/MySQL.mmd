graph TD
    %% whatsfresh database tables
    whatsfresh[whatsfresh DB]
    accounts[accounts]
    users[users]
    measures[global_measure_units]
    acc_users[accounts_users]
    ingr_types[ingredient_types]
    brands[brands]
    ingr_batches[ingredient_batches]
    ingredients[ingredients]
    prod_batches[product_batches]
    products[products]
    prod_types[product_types]
    prod_recipes[product_recipes]
    tasks[tasks]
    vendors[vendors]
    workers[workers]
    
    %% Source relationships
    whatsfresh --> accounts
    whatsfresh --> users
    whatsfresh --> measures
    whatsfresh --> acc_users
    whatsfresh --> ingr_types
    whatsfresh --> brands
    whatsfresh --> ingr_batches
    whatsfresh --> ingredients
    whatsfresh --> prod_batches
    whatsfresh --> products
    whatsfresh --> prod_types
    whatsfresh --> prod_recipes
    whatsfresh --> tasks
    whatsfresh --> vendors
    whatsfresh --> workers

    %% EventTypes (api_wf views)
    accounts --> |"acctList ⚡"|acctList[("acctList")]
    users --> |"userList ⚡"|userList[("userList")]
    measures --> |"measList ⚡"|measList[("measList")]
    ingr_types --> |"ingrTypeList ⚡"|ingrTypeList[("ingrTypeList")]
    brands --> |"brndList ⚡"|brndList[("brndList")]
    ingr_batches --> |"ingrBtchList ⚡"|ingrBtchList[("ingrBtchList")]
    ingredients --> |"ingrList ⚡"|ingrList[("ingrList")]
    prod_batches --> |"prodBtchList ⚡"|prodBtchList[("prodBtchList")]
    products --> |"prodList ⚡"|prodList[("prodList")]
    prod_types --> |"prodTypeList ⚡"|prodTypeList[("prodTypeList")]
    prod_recipes --> |"rcpeList ⚡"|rcpeList[("rcpeList")]
    tasks --> |"taskList ⚡"|taskList[("taskList")]
    vendors --> |"vndrList ⚡"|vndrList[("vndrList")]
    workers --> |"wrkrList ⚡"|wrkrList[("wrkrList")]

    %% Complex EventTypes
    users & acc_users & accounts --> |"userAcctList ⚡"|userAcctList[("userAcctList")]

    %% Styling
    classDef default fill:#f9f,stroke:#333,stroke-width:2px
    classDef eventType fill:#bbf,stroke:#333,stroke-width:2px,stroke-dasharray: 5 5
    class acctList,userList,measList,ingrTypeList,brndList,ingrBtchList,ingrList,prodBtchList,prodList,prodTypeList,rcpeList,taskList,vndrList,wrkrList,userAcctList eventType
